<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<OutputType>Exe</OutputType>
		<TargetFramework>net7.0</TargetFramework>
		<ProjectGuid>{8533224E-E08B-4EA2-89DF-9D6D72C1374E}</ProjectGuid>
		<PlatformTarget>AnyCPU</PlatformTarget>
		<DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
		<PostBuildEvent>"$(MSBuildProjectDirectory)\..\..\Nu\Nu.Pipe\bin\$(Configuration)\net7.0\Nu.Pipe.exe" "$(MSBuildProjectDirectory)\\" "$(MSBuildProjectDirectory)\bin\$(Configuration)\net7.0\\" "$(MSBuildProjectDirectory)\refinement\\" "False"</PostBuildEvent>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCpu'">
		<WarnOn>FS1182</WarnOn>
		<NoWarn>FS9;FS1178;FS3391;FS3536</NoWarn>
		<WarningLevel>5</WarningLevel>
		<DefineConstants>TRACE</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCpu'">
		<WarnOn>FS1182</WarnOn>
		<NoWarn>FS9;FS1178;FS3391;FS3536</NoWarn>
		<Tailcalls>False</Tailcalls>
		<WarningLevel>5</WarningLevel>
		<DefineConstants>TRACE</DefineConstants>
	</PropertyGroup>

	<ItemGroup>
		<Compile Include="Simulants.fs" />
		<Compile Include="Gameplay.fs" />
		<Compile Include="MyGame.fs" />
		<Compile Include="MyGamePlugin.fs" />
		<Compile Include="Program.fs" />
		<None Include="App.config" />
		<Content Include="AssetGraph.nuag">
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
		</Content>
		<Content Include="Overlayer.nuol">
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
		</Content>
		<Content Include="Prelude.nuscript">
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
		</Content>
	</ItemGroup>

	<ItemGroup>
		<Reference Include="AssimpNet">
			<HintPath>..\..\Nu\Nu.Dependencies\AssimpNet.02-17-20\net472\AssimpNet.dll</HintPath>
		</Reference>
		<Reference Include="OpenGL.Net">
			<HintPath>..\..\Nu\Nu.Dependencies\OpenGL.NET.0.8.4\lib\net461\OpenGL.Net.dll</HintPath>
		</Reference>
		<Reference Include="SDL2-CS">
			<HintPath>..\..\Nu\Nu.Dependencies\SDL2-CS\netstandard2.0\SDL2-CS.dll</HintPath>
		</Reference>
		<Reference Include="TiledSharp">
			<HintPath>..\..\Nu\Nu.Dependencies\TiledSharp.1.0.2\lib\netstandard2.0\TiledSharp.dll</HintPath>
		</Reference>
		<PackageReference Include="Csv" Version="1.0.58" />
		<PackageReference Include="FParsec" Version="1.0.3" />
		<PackageReference Include="Aether.Physics2D" Version="1.5.0" />
		<PackageReference Include="Magick.NET-Q8-x64" Version="7.5.0.1" />
		<PackageReference Include="Nito.Collections.Deque" Version="1.1.0" />
		<PackageReference Include="Prime" Version="9.0.0" />
		<PackageReference Include="Prime.Scripting" Version="9.0.0" />
		<PackageReference Include="System.Runtime" Version="4.3.1" />
		<PackageReference Include="System.Configuration.ConfigurationManager" Version="7.0.0" />
		<PackageReference Include="System.Numerics.Vectors" Version="4.5.0" />
		<PackageReference Include="System.Security.AccessControl" Version="6.0.0" />
	</ItemGroup>

	<ItemGroup>
		<ProjectReference Include="..\..\Nu\Nu\Nu.fsproj" />
		<ProjectReference Include="..\..\Nu\Nu.Math\Nu.Math.csproj" />
		<ProjectReference Include="..\..\Nu\Nu.Pipe\Nu.Pipe.fsproj" />
	</ItemGroup>
	
	<Target Name="AfterClean">
		<RemoveDir Directories="$(OutDir)Assets" />
		<RemoveDir Directories="$(OutDir)Refinement" />
	</Target>
	<Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
		<Error Condition="!Exists('..\..\packages\Magick.NET-Q8-x64.7.5.0.1\build\net40\Magick.NET-Q8-x64.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\..\packages\Magick.NET-Q8-x64.7.5.0.1\build\net40\Magick.NET-Q8-x64.targets'))" />
	</Target>
	<Target Name="BeforeBuild">
		<Copy SourceFiles="..\..\packages\Magick.NET-Q8-x64.7.5.0.1\runtimes\linux-x64\native\Magick.NET-Q8-x64.Native.dll.so" DestinationFiles="$(TargetDir)libMagick.NET-Q8-x64.Native.dll.so" ContinueOnError="false" />
	</Target>
	<Target Name="AfterBuild">
		<Copy SourceFiles="..\..\packages\Magick.NET-Q8-x64.7.5.0.1\lib\netstandard20\Magick.NET-Q8-x64.dll" DestinationFiles="$(TargetDir)Magick.NET-Q8-x64.dll" ContinueOnError="false" />
	</Target>
	<Import Project="..\..\packages\Magick.NET-Q8-x64.7.5.0.1\build\net40\Magick.NET-Q8-x64.targets" Condition="Exists('..\..\packages\Magick.NET-Q8-x64.7.5.0.1\build\net40\Magick.NET-Q8-x64.targets')" />

</Project>